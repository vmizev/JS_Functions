<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Функции</title>
</head>
<body>
<script>

// +++ Задача 1 +++
function multiply(...args) {
	let res = 1;
	if (!args.length) return 0;
	for (let i = 0, count = args.length; i < count; i++) {
		res *= args[i];
	}
	return res;
}
console.log('multiply без аргументов: ' + multiply());
console.log('multiply(1, 2, 3, 4) = ' + multiply(1, 2, 3, 4));

// +++ Задача 2 +++
function fact(x) {	
	return (x > 1) ? x * fact(x - 1) : 1;
}
console.log('Факториал 10 = '+ fact(10));

// +++ Задача 3 +++
function reverseString(str) {
	return str.split('').reverse().join('');
}
console.log('Строка-перевертыш: ' + reverseString('test'));

// +++ Задача 4 +++
function getCodeStringFromText(str) {
	let newStr = '';
	for (let i = 0, strLength = str.length; i < strLength; i++) {
		newStr += handler(str.charCodeAt(i));
	}
	return newStr.slice(0, newStr.length - 1);
}

function handler(symbol) {
	return symbol + ' ';
}
console.log('Hello = ' + getCodeStringFromText("hello"));

// +++ Задача 5 +++
function printChars(str) {
	console.log(str[0]);
	if (str.length > 1) {
		printChars(str.substring(1));
	}
}
printChars('test');

// +++ Задача 6 +++
function firstFunction (array, functionCallback){
	var str = '';
	for (i = 0; i < array.length; i++) {
		str += functionCallback(array[i]);
	}
	return 'New value: '  + str ;
}

function firstCallback(itemOfArray){
	var res = '';
	if (typeof itemOfArray == 'string') {		
		for (let j = 0; j < itemOfArray.length ; j++) {
			if (j == 0){
				res = itemOfArray[0].toUpperCase();
			}
			else {
				res += itemOfArray[j]; 
			}
		}					
	}
	else if (typeof itemOfArray == 'number'){
		var res = itemOfArray * 10 + ', ';
	}
	else if (typeof itemOfArray == 'object'){
		var res = `${itemOfArray['name']} is ${itemOfArray['age']}, `;

	}
	return res;
}

function secondCallback(itemOfArray){	
	return itemOfArray.split('').reverse().join('') + ', ';
}

var resultCallbackWork = firstFunction(['my', 'name', 'is', 'Trinity'], firstCallback);
console.log(resultCallbackWork);

var resultCallbackWork = firstFunction([10, 20, 30], firstCallback);
console.log(resultCallbackWork);

var resultCallbackWork = firstFunction([{age: 45, name: 'John' }, {age: 20, name: 'Aaron' }], firstCallback);
console.log(resultCallbackWork);

var resultCallbackWork = firstFunction(['abc', '123'], secondCallback);
console.log(resultCallbackWork);

var resultCallbackWork = firstFunction([1, 2, 3], function(number) { return number + 5 + ', ';} );
console.log(resultCallbackWork);

</script>
</body>
</html>